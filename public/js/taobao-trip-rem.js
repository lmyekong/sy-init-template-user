// - 引入该文件前可以设置meta viewport
!(function (a) { function b () { var b = d.clientWidth, c = '}'; if (!navigator.userAgent.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i) && b > 1024 && (b = 640, c = ';max-width:' + b + 'px;margin-right:auto!important;margin-left:auto!important;}'), a.rem = b / 10, location.search.match(/hairlines=true/i) && document.querySelector('html').classList.add('hairlines'), a.devicePixelRatio && devicePixelRatio >= 2) if (a.RATIO_HACK)a.rem = a.rem * a.RATIO_HACK; else { d.style.fontSize = '20px'; var f = document.createElement('div'), g = document.createElement('body'), h = d.firstElementChild || d.firstChild; f.style.border = '1rem solid transparent', f.style.width = '0', f.style.borderLeft = '.5px solid transparent', f.style.borderRight = '.5px solid transparent', g.appendChild(f), d.insertBefore(g, h), a.RATIO_HACK = 40 / f.offsetHeight, a.rem = a.rem * a.RATIO_HACK, f.offsetWidth == 1 && document.querySelector('html').classList.add('hairlines'), d.removeChild(g), d.style.fontSize = '' }e.innerHTML = 'html{font-size:' + a.rem + 'px!important;}body{font-size:' + 12 * (b / 320) + 'px' + c } var c, d = document.documentElement, e = (document.querySelector('meta[name="viewport"]'), document.createElement('style')), f = 1; f = 1, c = 1 / f, d.firstElementChild.appendChild(e), d.setAttribute('data-dpr', f), a.dpr = f, a.addEventListener('resize', function () { b() }, !1), a.addEventListener('pageshow', function (a) { a.persisted && b() }, !1), b() }(window))
